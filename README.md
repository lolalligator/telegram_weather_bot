# Telegram Weather Bot

## Описание

Telegram Weather Bot - проект телеграм-бота, который предоставляет прогнозы погоды для городов из маршрута. Бот использует данные от веб-сервиса AccuWeather и позволяет быстро получать прогноз на несколько дней для всех городов из маршрута.
## Функциональность

- **Команды:**
    - `/start` — Приветственное сообщение и описание возможностей бота.
    - `/help` — Информация о доступных командах и инструкции по использованию.
    - `/weather` — Инициализация запроса прогноза погоды с поддержкой ввода городов.
    
- **Особенности:**
    - Поддержка прогнозов погоды для нескольких городов одновременно.
    - Возможность задавать количество дней прогноза (от 1 до 5).
## Требования

- Python ~3.10+
- Библиотеки, указанные в файле requirements.txt
- Аккаунт в телеграме
- API-ключ с сайта AccuWeather
- API-токен, полученный в телеграм боте @BotFather
## Получение API-ключа AccuWeather API

Зарегистрируйся на [AccuWeather API](https://developer.accuweather.com/) и получи свой API-ключ в разделе Apps. API имеет серьезное ограничение по количеству запросов, поэтому при достижении лимита по числу запросов - необходимо получить новый API-ключ.
## Получение API-токена для телеграм бота

1. Открой Telegram и найди в поиске BotFather.
2.  Начни чат с BotFather: нажми на кнопку `Start` или напиши команду `/start`.
3. Введи команду `/newbot`, чтобы создать нового бота.
4. Укажи имя бота, когда BotFather попросит его ввести. Имя будет отображаться в Telegram как название бота.
5.  Укажи юзернейм. Он отображается в ссылках на бота. Юзернейм должен быть уникальным и заканчиваться на `bot`. 
6.  После того как ты создашь бота, BotFather предоставит тебе токен. 
## Конфигурация api_key.py

Полученные API-ключ для сайта AccuWeather и API-токен для телеграм бота необходимо вставить в файл api_key.py

`TELEGRAM_API_TOKEN` - Токен для телеграм-бота, полученный в BotFather 
`WEATHER_API_KEY`- Ключ для работы с AccuWeather
## Установка и запуск
1. Склонируйте репозиторий:
```
git clone https://github.com/lolalligator/telegram_weather_bot
```
2. Установите виртуальное окружение:
```
python3 -m venv venv
source venv/bin/activate  
# Windows: venv\Scripts\activate
pip install -r requirements.txt
```
3. Настройте конфигурацию api_key.py (подробнее об этом в предыдущем разделе)
4. Запустите бота:
```
python main.py
```
## Использование

1. Запустите бота и введите команду `/start` для получения приветственного сообщения.
2. Для получения прогноза погоды введите `/weather`, а затем укажите маршрут
3. Укажите количество дней прогноза (от 1 до 5)
4. Бот отправит прогноз для каждого из города на нужное количество дней
## Обработка ошибок

- **Отсутствие ввода:** Бот предупредит, если не введены города или количество дней.
- **Неверные данные:** При вводе некорректного числа дней (например, больше 5, или не целое число), бот предложит повторить ввод.
- **Недопустность API:** Если веб-сервис AccuWeather недоступен или возвращает ошибку, бот уведомит пользователя.
- **Логгирование:** Все ошибки записываются в логи для дальнейшего анализа.
